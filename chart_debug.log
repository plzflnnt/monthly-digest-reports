2025-04-23 17:24:08,956 - INFO - Plotly importado com sucesso
2025-04-23 17:24:09,586 - INFO - WeasyPrint importado com sucesso
2025-04-23 17:24:09,590 - INFO - ================================================================================
2025-04-23 17:24:09,590 - INFO - INICIANDO TESTE DE GERAÇÃO DE GRÁFICOS
2025-04-23 17:24:09,590 - INFO - ================================================================================
2025-04-23 17:24:09,590 - INFO - Testando instalação do Kaleido...
2025-04-23 17:24:09,594 - INFO - Kaleido importado com sucesso
2025-04-23 17:24:10,471 - INFO - Kaleido funcionando corretamente
2025-04-23 17:24:10,472 - INFO - Carregando dados de teste...
2025-04-23 17:24:10,472 - INFO - Dados do Analytics carregados: 11 registros diários
2025-04-23 17:24:10,473 - INFO - Dados do Search Console carregados: 31 registros diários
2025-04-23 17:24:10,473 - INFO - Inspecionando formatos de data em Analytics...
2025-04-23 17:24:10,473 - DEBUG - Analytics item 0: date=2025-03-19, tipo=<class 'str'>
2025-04-23 17:24:10,473 - DEBUG - Analytics item 1: date=2025-03-21, tipo=<class 'str'>
2025-04-23 17:24:10,474 - DEBUG - Analytics item 2: date=2025-03-22, tipo=<class 'str'>
2025-04-23 17:24:10,474 - DEBUG - Analytics item 3: date=2025-03-24, tipo=<class 'str'>
2025-04-23 17:24:10,475 - DEBUG - Analytics item 4: date=2025-03-25, tipo=<class 'str'>
2025-04-23 17:24:10,475 - DEBUG - Analytics item 5: date=2025-03-26, tipo=<class 'str'>
2025-04-23 17:24:10,475 - DEBUG - Analytics item 6: date=2025-03-27, tipo=<class 'str'>
2025-04-23 17:24:10,475 - DEBUG - Analytics item 7: date=2025-03-28, tipo=<class 'str'>
2025-04-23 17:24:10,476 - DEBUG - Analytics item 8: date=2025-03-29, tipo=<class 'str'>
2025-04-23 17:24:10,476 - DEBUG - Analytics item 9: date=2025-03-30, tipo=<class 'str'>
2025-04-23 17:24:10,477 - DEBUG - Analytics item 10: date=2025-03-31, tipo=<class 'str'>
2025-04-23 17:24:10,477 - INFO - Inspecionando formatos de data em Search Console...
2025-04-23 17:24:10,478 - DEBUG - Search Console item 0: date=2025-03-01, tipo=<class 'str'>
2025-04-23 17:24:10,478 - DEBUG - Search Console item 1: date=2025-03-02, tipo=<class 'str'>
2025-04-23 17:24:10,478 - DEBUG - Search Console item 2: date=2025-03-03, tipo=<class 'str'>
2025-04-23 17:24:10,478 - DEBUG - Search Console item 3: date=2025-03-04, tipo=<class 'str'>
2025-04-23 17:24:10,479 - DEBUG - Search Console item 4: date=2025-03-05, tipo=<class 'str'>
2025-04-23 17:24:10,479 - DEBUG - Search Console item 5: date=2025-03-06, tipo=<class 'str'>
2025-04-23 17:24:10,479 - DEBUG - Search Console item 6: date=2025-03-07, tipo=<class 'str'>
2025-04-23 17:24:10,479 - DEBUG - Search Console item 7: date=2025-03-08, tipo=<class 'str'>
2025-04-23 17:24:10,480 - DEBUG - Search Console item 8: date=2025-03-09, tipo=<class 'str'>
2025-04-23 17:24:10,480 - DEBUG - Search Console item 9: date=2025-03-10, tipo=<class 'str'>
2025-04-23 17:24:10,480 - DEBUG - Search Console item 10: date=2025-03-11, tipo=<class 'str'>
2025-04-23 17:24:10,481 - DEBUG - Search Console item 11: date=2025-03-12, tipo=<class 'str'>
2025-04-23 17:24:10,481 - DEBUG - Search Console item 12: date=2025-03-13, tipo=<class 'str'>
2025-04-23 17:24:10,481 - DEBUG - Search Console item 13: date=2025-03-14, tipo=<class 'str'>
2025-04-23 17:24:10,481 - DEBUG - Search Console item 14: date=2025-03-15, tipo=<class 'str'>
2025-04-23 17:24:10,481 - DEBUG - Search Console item 15: date=2025-03-16, tipo=<class 'str'>
2025-04-23 17:24:10,482 - DEBUG - Search Console item 16: date=2025-03-17, tipo=<class 'str'>
2025-04-23 17:24:10,482 - DEBUG - Search Console item 17: date=2025-03-18, tipo=<class 'str'>
2025-04-23 17:24:10,482 - DEBUG - Search Console item 18: date=2025-03-19, tipo=<class 'str'>
2025-04-23 17:24:10,482 - DEBUG - Search Console item 19: date=2025-03-20, tipo=<class 'str'>
2025-04-23 17:24:10,482 - DEBUG - Search Console item 20: date=2025-03-21, tipo=<class 'str'>
2025-04-23 17:24:10,482 - DEBUG - Search Console item 21: date=2025-03-22, tipo=<class 'str'>
2025-04-23 17:24:10,483 - DEBUG - Search Console item 22: date=2025-03-23, tipo=<class 'str'>
2025-04-23 17:24:10,483 - DEBUG - Search Console item 23: date=2025-03-24, tipo=<class 'str'>
2025-04-23 17:24:10,483 - DEBUG - Search Console item 24: date=2025-03-25, tipo=<class 'str'>
2025-04-23 17:24:10,483 - DEBUG - Search Console item 25: date=2025-03-26, tipo=<class 'str'>
2025-04-23 17:24:10,483 - DEBUG - Search Console item 26: date=2025-03-27, tipo=<class 'str'>
2025-04-23 17:24:10,483 - DEBUG - Search Console item 27: date=2025-03-28, tipo=<class 'str'>
2025-04-23 17:24:10,483 - DEBUG - Search Console item 28: date=2025-03-29, tipo=<class 'str'>
2025-04-23 17:24:10,484 - DEBUG - Search Console item 29: date=2025-03-30, tipo=<class 'str'>
2025-04-23 17:24:10,484 - DEBUG - Search Console item 30: date=2025-03-31, tipo=<class 'str'>
2025-04-23 17:24:10,484 - INFO - Tentando criar gráfico de tendência...
2025-04-23 17:24:10,484 - INFO - Número de registros diários: 11
2025-04-23 17:24:10,485 - DEBUG - Registro 0: {"date": "2025-03-19", "sessions": "1", "users": "1", "pageviews": "1", "conversions": "0"}
2025-04-23 17:24:10,485 - DEBUG - Registro 1: {"date": "2025-03-21", "sessions": "1", "users": "1", "pageviews": "1", "conversions": "0"}
2025-04-23 17:24:10,486 - DEBUG - Registro 2: {"date": "2025-03-22", "sessions": "1", "users": "1", "pageviews": "1", "conversions": "0"}
2025-04-23 17:24:10,487 - INFO - DataFrame criado com colunas: ['date', 'sessions', 'users', 'pageviews', 'conversions']
2025-04-23 17:24:10,488 - INFO - Valores de data antes da conversão: ['2025-03-19', '2025-03-21', '2025-03-22', '2025-03-24', '2025-03-25']
2025-04-23 17:24:10,488 - DEBUG - Tipos de valores na coluna 'date':
2025-04-23 17:24:10,489 - DEBUG -   0: 2025-03-19 (<class 'str'>)
2025-04-23 17:24:10,489 - DEBUG -   1: 2025-03-21 (<class 'str'>)
2025-04-23 17:24:10,489 - DEBUG -   2: 2025-03-22 (<class 'str'>)
2025-04-23 17:24:10,489 - DEBUG -   3: 2025-03-24 (<class 'str'>)
2025-04-23 17:24:10,490 - DEBUG -   4: 2025-03-25 (<class 'str'>)
2025-04-23 17:24:10,490 - DEBUG - Tentando converter datas para datetime...
2025-04-23 17:24:10,493 - INFO - Conversão de datas bem-sucedida
2025-04-23 17:24:10,495 - DEBUG - Valores de data após conversão: [Timestamp('2025-03-19 00:00:00'), Timestamp('2025-03-21 00:00:00'), Timestamp('2025-03-22 00:00:00'), Timestamp('2025-03-24 00:00:00'), Timestamp('2025-03-25 00:00:00')]
2025-04-23 17:24:10,496 - INFO - DataFrame ordenado por data
2025-04-23 17:24:10,497 - INFO - Colunas numéricas convertidas
2025-04-23 17:24:10,498 - INFO - Criando gráfico com Plotly...
2025-04-23 17:24:11,077 - INFO - Gráfico criado com sucesso
2025-04-23 17:24:11,108 - INFO - Gráfico salvo como HTML
2025-04-23 17:24:11,109 - INFO - Convertendo gráfico para imagem...
2025-04-23 17:24:11,226 - INFO - Gráfico convertido para imagem com sucesso
2025-04-23 17:24:11,227 - INFO - Imagem do gráfico salva como PNG
2025-04-23 17:24:11,228 - INFO - Tentando criar gráfico de desempenho nas buscas...
2025-04-23 17:24:11,228 - INFO - Número de registros de desempenho: 31
2025-04-23 17:24:11,228 - DEBUG - Registro 0: {"date": "2025-03-01", "clicks": 15, "impressions": 443, "ctr": 0.033860045146726865, "position": 13.26410835214447}
2025-04-23 17:24:11,228 - DEBUG - Registro 1: {"date": "2025-03-02", "clicks": 15, "impressions": 487, "ctr": 0.030800821355236138, "position": 17.248459958932237}
2025-04-23 17:24:11,228 - DEBUG - Registro 2: {"date": "2025-03-03", "clicks": 14, "impressions": 455, "ctr": 0.03076923076923077, "position": 12.92967032967033}
2025-04-23 17:24:11,229 - INFO - DataFrame criado com colunas: ['date', 'clicks', 'impressions', 'ctr', 'position']
2025-04-23 17:24:11,229 - INFO - Valores de data antes da conversão: ['2025-03-01', '2025-03-02', '2025-03-03', '2025-03-04', '2025-03-05']
2025-04-23 17:24:11,230 - DEBUG - Tipos de valores na coluna 'date':
2025-04-23 17:24:11,230 - DEBUG -   0: 2025-03-01 (<class 'str'>)
2025-04-23 17:24:11,230 - DEBUG -   1: 2025-03-02 (<class 'str'>)
2025-04-23 17:24:11,230 - DEBUG -   2: 2025-03-03 (<class 'str'>)
2025-04-23 17:24:11,230 - DEBUG -   3: 2025-03-04 (<class 'str'>)
2025-04-23 17:24:11,230 - DEBUG -   4: 2025-03-05 (<class 'str'>)
2025-04-23 17:24:11,231 - DEBUG - Tentando converter datas para datetime...
2025-04-23 17:24:11,232 - INFO - Conversão de datas bem-sucedida
2025-04-23 17:24:11,232 - DEBUG - Valores de data após conversão: [Timestamp('2025-03-01 00:00:00'), Timestamp('2025-03-02 00:00:00'), Timestamp('2025-03-03 00:00:00'), Timestamp('2025-03-04 00:00:00'), Timestamp('2025-03-05 00:00:00')]
2025-04-23 17:24:11,233 - INFO - DataFrame ordenado por data
2025-04-23 17:24:11,233 - INFO - Criando gráfico com Plotly...
2025-04-23 17:24:11,271 - INFO - Gráfico criado com sucesso
2025-04-23 17:24:11,303 - INFO - Gráfico salvo como HTML
2025-04-23 17:24:11,303 - INFO - Convertendo gráfico para imagem...
2025-04-23 17:24:11,450 - INFO - Gráfico convertido para imagem com sucesso
2025-04-23 17:24:11,451 - INFO - Imagem do gráfico salva como PNG
2025-04-23 17:24:11,451 - INFO - Gráfico de tendência gerado com sucesso
2025-04-23 17:24:11,451 - INFO - Gráfico de desempenho nas buscas gerado com sucesso
2025-04-23 17:24:11,451 - INFO - Gerando relatório de teste...
2025-04-23 17:24:11,451 - ERROR - Erro ao gerar relatório de teste: ' font-family'
2025-04-23 17:24:11,452 - ERROR - Traceback (most recent call last):
  File "c:\Users\pznet\monthly-digest-reports\api_analysis\test_chart_generation.py", line 475, in generate_test_report
    html_content = html_template.format(
KeyError: ' font-family'

2025-04-23 17:24:11,452 - INFO - ================================================================================
2025-04-23 17:24:11,452 - INFO - TESTE CONCLUÍDO
2025-04-23 17:24:11,453 - INFO - ================================================================================
